(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,n,t){},154:function(e,n,t){"use strict";t.r(n);var a,c,r,s,o,l,i,d,j,b,m,u,p,O,h=t(0),x=t.n(h),g=t(26),v=t.n(g),y=t(167),f=t(171),$=t(166),I=t(44),k=t(25),w=t(165),N=t(173),S=(t(113),t(120),t(43)),B=t(174),C=t(31),_=t(169),A=(Object(_.a)(a||(a=Object(C.a)(["\n  query allUsers {\n    users {\n      _id\n      name\n      email\n      password\n      envelopes {\n        _id\n        name\n        envBalance\n        transactions {\n          name\n          amount\n          type\n        }\n      }\n    }\n  }\n"]))),Object(_.a)(c||(c=Object(C.a)(["\n  query singleUser($userId: ID!) {\n    user(userId: $userId) {\n      _id\n      name\n      email\n      password\n      envelopes {\n        _id\n        name\n        envBalance\n        transactions {\n          name\n          amount\n          type\n        }\n      }\n    }\n  }\n"]))),Object(_.a)(r||(r=Object(C.a)(["\n  query allEnvelopes {\n    envelopes {\n      _id\n      name\n      envBalance\n      transactions {\n        name\n        amount\n        type\n      }\n    }\n  }\n"])))),D=(Object(_.a)(s||(s=Object(C.a)(["\n  query singleEnvelope($envelopeId: ID!) {\n    envelope(envelopeId: $envelopeId) {\n      _id\n      name\n      envBalance\n      transactions {\n        name\n        amount\n        type\n      }\n    }\n  }\n"]))),Object(_.a)(o||(o=Object(C.a)(["\n  query allAccounts {\n    accounts {\n      _id\n      name\n      type\n      accountBalance\n      transactions {\n        name\n        amount\n        type\n      }\n    }\n  }\n"]))),Object(_.a)(l||(l=Object(C.a)(["\n  query singleAccount($accountId: ID!) {\n    transaction(accountId: $accountId) {\n      _id\n      name\n      type\n      accountBalance\n      transactions {\n        name\n        amount\n        type\n      }\n    }\n  }\n"]))),t(74)),F=t.n(D),E=t(87),T=t(66),U=t(58),q=t(175),L=Object(_.a)(i||(i=Object(C.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        name\n      }\n    }\n  }\n"]))),Y=Object(_.a)(d||(d=Object(C.a)(["\n  mutation addUser($name: String!, $email: String!, $password: String!) {\n    addUser(name: $name, email: $email, password: $password) {\n      user {\n        _id\n        name\n        password\n      }\n    }\n  }\n"]))),M=(Object(_.a)(j||(j=Object(C.a)(["\n  mutation removeUser($userId: ID!) {\n    removeUser(userId: $userId)\n  }\n"]))),Object(_.a)(b||(b=Object(C.a)(["\n  mutation addEnvelope($userId: ID, $name: String!, $envBalance: Float!) {\n    addEnvelope(userId: $userId, name: $name, envBalance: $envBalance) {\n      _id\n      name\n      envBalance\n    }\n  }\n"]))),Object(_.a)(m||(m=Object(C.a)(["\n  mutation removeEnvelope($envelopeId: ID!) {\n    removeEnvelope(envelopeId: $envelopeId)\n  }\n"]))),Object(_.a)(u||(u=Object(C.a)(["\n  mutation addAccountTransaction(\n    $accountId: ID!\n    $name: String!\n    $amount: Float!\n    $type: Boolean!\n  ) {\n    addAccountTransaction(\n      accountId: $accountId\n      name: $name\n      amount: $amount\n      type: $type\n    ) {\n      transactions {\n        amount\n        name\n        type\n      }\n    }\n  }\n"]))),Object(_.a)(p||(p=Object(C.a)(["\n  mutation addEnvelopeTransaction(\n    $envelopeId: ID!\n    $name: String!\n    $amount: Float!\n    $type: Boolean!\n  ) {\n    addEnvelopeTransaction(\n      accountId: $accountId\n      name: $name\n      amount: $amount\n      type: $type\n    ) {\n      transactions {\n        amount\n        name\n        type\n      }\n    }\n  }\n"]))),Object(_.a)(O||(O=Object(C.a)(["\n  mutation addAccount(\n    $name: String!\n    $type: Boolean!\n    $accountBalance: Float!\n  ) {\n    addAccount(name: $name, type: $type, accountBalance: $accountBalance) {\n      accountId\n      name\n      type\n      accountBalance\n    }\n  }\n"]))),t(124)),R=t(125),W=t(126),H=t.n(W),J=new(function(){function e(){Object(M.a)(this,e)}return Object(R.a)(e,[{key:"getUser",value:function(){return H()(this.getToken())}},{key:"loggedIn",value:function(){return!!this.getToken()}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),z=t(7),G=function(){var e=Object(h.useState)({name:"",email:"",password:""}),n=Object(S.a)(e,2),t=n[0],a=n[1],c=Object(q.a)(Y),r=Object(S.a)(c,2),s=r[0],o=r[1],l=o.error,i=o.data,d=function(e){var n=e.target,c=n.name,r=n.value;a(Object(U.a)(Object(U.a)({},t),{},Object(T.a)({},c,r)))},j=function(){var e=Object(E.a)(F.a.mark((function e(n){var a,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(t),e.prev=2,e.next=5,s({variables:Object(U.a)({},t)});case 5:a=e.sent,c=a.data,J.login(c.addUser.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}();return Object(z.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(z.jsx)("div",{className:"col-12 col-lg-10",children:Object(z.jsxs)("div",{className:"card",children:[Object(z.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Sign Up"}),Object(z.jsxs)("div",{className:"card-body",children:[i?Object(z.jsxs)("p",{children:["Success! You may now head"," ",Object(z.jsx)(I.b,{to:"/homepage",children:"back to the homepage."})]}):Object(z.jsxs)("form",{onSubmit:j,children:[Object(z.jsx)("input",{className:"form-input",placeholder:"Your Name",name:"name",type:"text",value:t.name,onChange:d}),Object(z.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:t.email,onChange:d}),Object(z.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:t.password,onChange:d}),Object(z.jsx)("button",{className:"btn btn-block btn-info",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),l&&Object(z.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:l.message})]})]})})})},K=function(e){var n=Object(h.useState)({email:"",password:""}),t=Object(S.a)(n,2),a=t[0],c=t[1],r=Object(q.a)(L),s=Object(S.a)(r,2),o=s[0],l=s[1],i=l.error,d=l.data,j=function(e){var n=e.target,t=n.name,r=n.value;c(Object(U.a)(Object(U.a)({},a),{},Object(T.a)({},t,r)))},b=function(){var e=Object(E.a)(F.a.mark((function e(n){var t,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(a),e.prev=2,e.next=5,o({variables:Object(U.a)({},a)});case 5:t=e.sent,r=t.data,console.log(r),J.login(r.login.token),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("login error");case 14:c({email:"",password:""});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(z.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(z.jsx)("div",{className:"col-12 col-lg-10",children:Object(z.jsxs)("div",{className:"card",children:[Object(z.jsx)("h4",{className:"card-header bg-dark text-light p-2",children:"Login"}),Object(z.jsxs)("div",{className:"card-body",children:[d?Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(I.b,{to:"/",children:"back to the homepage."})}):Object(z.jsxs)("form",{onSubmit:b,children:[Object(z.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",value:a.email,onChange:j}),Object(z.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",value:a.password,onChange:j}),Object(z.jsx)("button",{className:"btn btn-block btn-info",style:{cursor:"pointer"},type:"submit",children:"Submit"})]}),i&&Object(z.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:i.message})]})]})})})},P=t(168),Q=t(60),V=t(172),X=t(170);function Z(e){var n=Object(h.useState)(!1),t=Object(S.a)(n,2),a=t[0],c=t[1],r=function(){c(!1)};return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("div",{className:"cardWrapper",children:Object(z.jsxs)(P.a,{title:e.name,bordered:!1,style:{flex:1,backgroundColor:"white",width:"400px",opacity:"80%",overflow:"inherit"},children:[Object(z.jsxs)("p",{children:["$ ",e.balance," "]}),Object(z.jsx)(Q.a,{type:"primary",onClick:function(){c(!0)},style:{margin:"10px"},children:"Add Transaction"}),Object(z.jsx)(V.a,{title:"Transaction",visible:a,onCancel:r,footer:[Object(z.jsx)(Q.a,{onClick:r,children:"Return"},"back"),Object(z.jsx)(Q.a,{type:"primary",value:"small",onClick:function(){c(!1)},children:"Deposit"},"1"),Object(z.jsx)(Q.a,{type:"primary",value:"small",onClick:function(){c(!1)},children:"Withdrawal"},"2")],children:Object(z.jsx)(X.a,{placeholder:"Transaction Amount"})})]})})})}var ee=w.a.Sider,ne=w.a.Content;var te=function(){var e=Object(B.a)(A).data,n=(null===e||void 0===e?void 0:e.envelopes)||[];console.log(n);var t=Object(h.useState)(""),a=Object(S.a)(t,2),c=a[0],r=a[1],s=Object(h.useState)(""),o=Object(S.a)(s,2),l=o[0],i=o[1];return Object(z.jsx)(z.Fragment,{children:J.loggedIn()?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(ee,{className:"sider",style:{minHeight:"80vh",textAlign:"center",marginLeft:"10px"},breakpoint:"lg",collapsedWidth:"0",children:Object(z.jsx)(N.a,{className:"sideMenu",theme:"dark",children:n.map((function(e,n){return n={key:n},Object(z.jsx)(N.a.Item,{className:"sideButtons",onClick:(t=e,function(){r(t.name),i(t.envBalance)}),block:!0,children:e.name});var t}))})}),Object(z.jsx)(w.a,{children:Object(z.jsxs)(ne,{className:"content",children:[Object(z.jsx)(k.a,{exact:!0,path:"/login",children:Object(z.jsx)(K,{})}),Object(z.jsx)(k.a,{exact:!0,path:"/register",children:Object(z.jsx)(G,{})}),Object(z.jsx)(k.a,{exact:!0,path:"/",children:Object(z.jsx)(Z,{name:c,balance:l})})]})})]}):Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("p",{children:"Click Login or Register to get started."})})})};var ae=function(){return Object(z.jsx)("footer",{children:"Envelopes LLC 2021"})},ce=w.a.Header,re=w.a.Footer;var se=function(){return Object(z.jsx)(I.a,{children:Object(z.jsx)("div",{className:"App",children:Object(z.jsxs)(w.a,{children:[Object(z.jsx)(ce,{className:"header",style:{textAlign:"right"},children:Object(z.jsxs)(N.a,{className:"headerMenu",theme:"dark",mode:"horizontal",children:[J.loggedIn()?Object(z.jsx)("button",{className:"btn btn-lg btn-light m-2",onClick:function(e){e.preventDefault(),J.logout()},children:"Logout"}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(I.b,{className:"btn btn-lg btn-primary m-2",to:"/login",children:"Login"}),Object(z.jsx)(I.b,{className:"btn btn-lg btn-light m-2",to:"/register",children:"Register"})]}),Object(z.jsx)("div",{className:"title",children:Object(z.jsx)("h4",{children:"envelopes"})})]})}),Object(z.jsx)(w.a,{children:Object(z.jsxs)(k.c,{children:[Object(z.jsx)(k.a,{exact:!0,path:"/",children:Object(z.jsx)(te,{})}),Object(z.jsx)(k.a,{exact:!0,path:"/login",children:Object(z.jsx)(K,{})}),Object(z.jsx)(k.a,{exact:!0,path:"/register",children:Object(z.jsx)(G,{})})]})}),Object(z.jsx)(re,{className:"footer",style:{textAlign:"center"},children:Object(z.jsx)(ae,{})})]})})})},oe=new y.a({uri:"/graphql",cache:new f.a});v.a.render(Object(z.jsx)(x.a.StrictMode,{children:Object(z.jsx)($.a,{client:oe,children:Object(z.jsx)(se,{})})}),document.getElementById("root"))}},[[154,1,2]]]);
//# sourceMappingURL=main.a235f89c.chunk.js.map